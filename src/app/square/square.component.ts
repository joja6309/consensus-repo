import { ElementRef, ViewChild, Component, ViewContainerRef , OnInit, trigger, state, style, transition, animate } from '@angular/core';
@Component({
  selector: 'app-square',
  templateUrl: './square.component.html',
  styleUrls: ['./square.component.scss']
  ,
  animations: [
    trigger('flipState', [
      state('active', style({
        transform: 'rotateY(179.9deg)'
      })),
      state('inactive', style({
        transform: 'rotateY(0)'
      })),
      transition
        ('inactive => active', animate('500ms ease-in'))
    ])
  ]
})

export class SquareComponent implements OnInit {
  // private context: CanvasRenderingContext2D;
  // private count: number = 0;
  flip: string = 'inactive';
  public colPnt: number; 
  public rowPnt: number;
  public width: number;
  public height: number;
  @ViewChild('backAnchor') backRef: ElementRef;
  //@ViewChild('canvasAnchor', { read: ViewContainerRef }) canvasRef: ViewContainerRef;
  public originalCtx: CanvasRenderingContext2D; 


  constructor(private elRef: ElementRef) 
  { 
   
  }

  toggleFlip() {
    this.flip = (this.flip == 'inactive') ? 'active' : 'inactive';
  }

  ngOnInit() {
  }
   // Start at 10 pixels from the left and the top of the image (crop), 10, 10,
   //  o----
   //
   //
     // "Get" a `80 * 30` (w * h) area from the source image (crop), 80, 30,
    // Place the result at 0, 0 in the canvas,   0, 0, 
     // With as width / height: 160 * 60 (scale)    160, 60); 
     // -> | -> | -> 
     // v | v | v 
  ngAfterViewInit() {
    let canvas = document.createElement('canvas');
    console.log(this.colPnt);
    console.log(this.rowPnt);
    console.log(this.height);
    console.log(this.width);
    console.log(this.originalCtx);
    // let back = document.createElement('div');
    //back.style('tp-box__side');
    // back.classList.add('tp-box__side');
    // back.classList.add('tp-box__back');
    this.backRef.nativeElement.appendChild(canvas);
    // this.backRef.nativeElement.appendChild('div')
    // this.backRef.nativeElement.appendChild('canvas');
    // <!-- < div class="tp-box__side tp-box__back" >
    //   </div> -->
    
    
  }

  

}























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































